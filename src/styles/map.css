/* src/styles/map.css */

/* --- Map & Tile Styles --- */
.map-surface {
  background-image: url('../images/water.png');
  background-repeat: repeat;
  background-size: 250px;
}

.map-viewport {
    @apply absolute inset-0 w-full h-full cursor-grab overflow-hidden;
}
.map-viewport:active {
    @apply cursor-grabbing;
}

.map-border {
    @apply absolute bg-red-500 pointer-events-none z-40 transition-opacity duration-200;
}
.map-border.top { @apply top-0 left-0 right-0 h-1; }
.map-border.bottom { @apply bottom-0 left-0 right-0 h-1; }
.map-border.left { @apply top-0 bottom-0 left-0 w-1; }
.map-border.right { @apply top-0 bottom-0 right-0 w-1; }

.map-grid {
    @apply grid;
}

.map-tile {
    @apply flex items-center justify-center relative;
}

/* City Slot Styles */
.city-slot {
    @apply w-6 h-6 rounded-full m-1 cursor-pointer relative transition-transform duration-150;
}
.city-slot:hover {
    @apply scale-125 ring-2 ring-white z-20;
}
.city-slot:hover .map-object-tooltip {
    @apply visible opacity-100;
}
.empty-slot {
    @apply bg-gray-500 border border-dashed border-gray-400;
}
.my-city {
    @apply bg-yellow-400 border-2 border-yellow-200;
}
.alliance-city { /* Your own alliance */
    @apply bg-blue-500 border-2 border-blue-300;
}
.ally-city { /* Allied alliances */
    @apply bg-green-500 border-2 border-green-300;
}
.enemy-city {
    @apply bg-red-500 border-2 border-red-300;
}
.neutral-city {
    @apply bg-amber-700 border-2 border-amber-500;
}
.dummy-city-plot {
    @apply bg-purple-500 border-2 border-purple-300;
}
.dummy-placement-plot {
    @apply bg-gray-500 border-2 border-dashed border-yellow-400 cursor-crosshair animate-pulse;
}
.ghost-city {
    @apply bg-gray-600 border-2 border-gray-800;
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="rgba(255,255,255,0.5)"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5-9c.83 0 1.5-.67 1.5-1.5S7.83 8 7 8s-1.5.67-1.5 1.5S6.17 11 7 11zm10 0c.83 0 1.5-.67 1.5-1.5S17.83 8 17 8s-1.5.67-1.5 1.5S16.17 11 17 11zm-5 4c-1.66 0-3-1.34-3-3h6c0 1.66-1.34 3-3 3z"/></svg>');
    background-size: 70%;
    background-repeat: no-repeat;
    background-position: center;
}


/* Farming Village Styles */
.village-slot {
    @apply w-3 h-3 rounded-full m-1 cursor-pointer relative transition-transform duration-150;
}
.village-slot:hover {
    @apply scale-150 ring-2 ring-white z-20;
}
.village-slot:hover .map-object-tooltip {
    @apply visible opacity-100;
}
.neutral-village {
    @apply bg-gray-300 border border-gray-500;
}
.my-village {
    @apply bg-blue-500 border border-blue-300;
}
.other-village-plot {
    @apply bg-red-600 border border-red-400;
}

/* Ruin Styles */
.ruin-slot {
    @apply w-4 h-4 m-1 cursor-pointer relative transition-transform duration-150;
    background-image: url('https://i.imgur.com/2gO3g8g.png');
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}
.ruin-slot.my-ruin {
    filter: drop-shadow(0 0 5px #0ea5e9);
}
.ruin-slot.conquered-ruin {
    filter: drop-shadow(0 0 5px #ef4444);
}
.ruin-slot:hover {
    @apply scale-150 ring-2 ring-yellow-300 z-20;
}
.ruin-slot:hover .map-object-tooltip {
    @apply visible opacity-100;
}

/* God Town Styles */
.god-town-slot {
    @apply w-8 h-8 m-1 cursor-pointer relative transition-transform duration-150;
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}
.god-town-slot:hover {
    @apply scale-125 ring-2 ring-yellow-300 z-20;
}
.god-town-slot:hover .map-object-tooltip {
    @apply visible opacity-100;
}
.god-town-slot.ruins {
    filter: hue-rotate(280deg) brightness(1.2);
}
.god-town-slot.city {
    filter: drop-shadow(0 0 8px #fde047);
}

/* Wonder Styles */
.wonder-spot-tile {
    @apply w-8 h-8 rounded-full cursor-pointer relative bg-yellow-400/50;
    animation: glowing-wonder-spot 2s infinite;
}

@keyframes glowing-wonder-spot {
    0% { box-shadow: 0 0 5px #fde047; }
    50% { box-shadow: 0 0 20px #fef08a, 0 0 10px #fef08a; }
    100% { box-shadow: 0 0 5px #fde047; }
}

.constructing-wonder-tile {
    @apply w-8 h-8 cursor-pointer relative;
    background-image: url('../images/special_buildings/alliance_wonders.jpg');
    background-size: contain;
}
